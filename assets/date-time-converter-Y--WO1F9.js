import{_ as k}from"./InputCopyable.vue_vue_type_script_setup_true_lang-WyWz6ZpA.js";import{c1 as N,c2 as w,c3 as E,b as Z,d as V,n as R,c4 as q,a as L,p as B,o as y,e as F,f as P,i as M,g as S,x as O,F as K,r as Q,y as ee,X as te}from"./index-jhJyocX-.js";import{w as $}from"./defaults-wMf-rINs.js";import{a as c,i as b,g as Y,m as A,b as G,c as ae}from"./index-8K8h75xO.js";import{_ as re}from"./Divider-64vPN4Yc.js";function ne(t,e){var o,a;N(1,arguments);var n=w(t);if(isNaN(n.getTime()))throw new RangeError("Invalid time value");var i=String((o=e?.format)!==null&&o!==void 0?o:"extended"),u=String((a=e?.representation)!==null&&a!==void 0?a:"complete");if(i!=="extended"&&i!=="basic")throw new RangeError("format must be 'extended' or 'basic'");if(u!=="date"&&u!=="time"&&u!=="complete")throw new RangeError("representation must be 'date', 'time', or 'complete'");var l="",m="",d=i==="extended"?"-":"",r=i==="extended"?":":"";if(u!=="time"){var s=c(n.getDate(),2),D=c(n.getMonth()+1,2),h=c(n.getFullYear(),4);l="".concat(h).concat(d).concat(D).concat(d).concat(s)}if(u!=="date"){var f=n.getTimezoneOffset();if(f!==0){var g=Math.abs(f),v=c(Math.floor(g/60),2),T=c(g%60,2),C=f<0?"+":"-";m="".concat(C).concat(v,":").concat(T)}else m="Z";var U=c(n.getHours(),2),W=c(n.getMinutes(),2),X=c(n.getSeconds(),2),J=l===""?"":"T",j=[U,W,X].join(r);l="".concat(l).concat(J).concat(j).concat(m)}return l}function oe(t,e){var o,a;if(arguments.length<1)throw new TypeError("1 argument required, but only ".concat(arguments.length," present"));var n=w(t);if(!b(n))throw new RangeError("Invalid time value");var i=String((o=e?.format)!==null&&o!==void 0?o:"extended"),u=String((a=e?.representation)!==null&&a!==void 0?a:"complete");if(i!=="extended"&&i!=="basic")throw new RangeError("format must be 'extended' or 'basic'");if(u!=="date"&&u!=="time"&&u!=="complete")throw new RangeError("representation must be 'date', 'time', or 'complete'");var l="",m=i==="extended"?"-":"",d=i==="extended"?":":"";if(u!=="time"){var r=c(n.getDate(),2),s=c(n.getMonth()+1,2),D=c(n.getFullYear(),4);l="".concat(D).concat(m).concat(s).concat(m).concat(r)}if(u!=="date"){var h=c(n.getHours(),2),f=c(n.getMinutes(),2),g=c(n.getSeconds(),2),v=l===""?"":" ";l="".concat(l).concat(v).concat(h).concat(d).concat(f).concat(d).concat(g)}return l}function ie(t,e){var o;if(arguments.length<1)throw new TypeError("1 arguments required, but only ".concat(arguments.length," present"));var a=w(t);if(!b(a))throw new RangeError("Invalid time value");var n=Number((o=e?.fractionDigits)!==null&&o!==void 0?o:0);if(!(n>=0&&n<=3))throw new RangeError("fractionDigits must be between 0 and 3 inclusively");var i=c(a.getDate(),2),u=c(a.getMonth()+1,2),l=a.getFullYear(),m=c(a.getHours(),2),d=c(a.getMinutes(),2),r=c(a.getSeconds(),2),s="";if(n>0){var D=a.getMilliseconds(),h=Math.floor(D*Math.pow(10,n-3));s="."+c(h,n)}var f="",g=a.getTimezoneOffset();if(g!==0){var v=Math.abs(g),T=c(E(v/60),2),C=c(v%60,2),U=g<0?"+":"-";f="".concat(U).concat(T,":").concat(C)}else f="Z";return"".concat(l,"-").concat(u,"-").concat(i,"T").concat(m,":").concat(d,":").concat(r).concat(s).concat(f)}var ce=["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],se=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];function ue(t){if(arguments.length<1)throw new TypeError("1 arguments required, but only ".concat(arguments.length," present"));var e=w(t);if(!b(e))throw new RangeError("Invalid time value");var o=ce[e.getUTCDay()],a=c(e.getUTCDate(),2),n=se[e.getUTCMonth()],i=e.getUTCFullYear(),u=c(e.getUTCHours(),2),l=c(e.getUTCMinutes(),2),m=c(e.getUTCSeconds(),2);return"".concat(o,", ").concat(a," ").concat(n," ").concat(i," ").concat(u,":").concat(l,":").concat(m," GMT")}function le(t){N(1,arguments);var e=E(t);return w(e*1e3)}function me(t){return N(1,arguments),Math.floor(Y(t)/1e3)}function z(t,e){var o;N(1,arguments);var a=E((o=e?.additionalDigits)!==null&&o!==void 0?o:2);if(a!==2&&a!==1&&a!==0)throw new RangeError("additionalDigits must be 0, 1 or 2");if(!(typeof t=="string"||Object.prototype.toString.call(t)==="[object String]"))return new Date(NaN);var n=ge(t),i;if(n.date){var u=De(n.date,a);i=pe(u.restDateString,u.year)}if(!i||isNaN(i.getTime()))return new Date(NaN);var l=i.getTime(),m=0,d;if(n.time&&(m=he(n.time),isNaN(m)))return new Date(NaN);if(n.timezone){if(d=Te(n.timezone),isNaN(d))return new Date(NaN)}else{var r=new Date(l+m),s=new Date(0);return s.setFullYear(r.getUTCFullYear(),r.getUTCMonth(),r.getUTCDate()),s.setHours(r.getUTCHours(),r.getUTCMinutes(),r.getUTCSeconds(),r.getUTCMilliseconds()),s}return new Date(l+m+d)}var x={dateTimeDelimiter:/[T ]/,timeZoneDelimiter:/[Z ]/i,timezone:/([Z+-].*)$/},de=/^-?(?:(\d{3})|(\d{2})(?:-?(\d{2}))?|W(\d{2})(?:-?(\d{1}))?|)$/,ve=/^(\d{2}(?:[.,]\d*)?)(?::?(\d{2}(?:[.,]\d*)?))?(?::?(\d{2}(?:[.,]\d*)?))?$/,fe=/^([+-])(\d{2})(?::?(\d{2}))?$/;function ge(t){var e={},o=t.split(x.dateTimeDelimiter),a;if(o.length>2)return e;if(/:/.test(o[0])?a=o[0]:(e.date=o[0],a=o[1],x.timeZoneDelimiter.test(e.date)&&(e.date=t.split(x.timeZoneDelimiter)[0],a=t.substr(e.date.length,t.length))),a){var n=x.timezone.exec(a);n?(e.time=a.replace(n[1],""),e.timezone=n[1]):e.time=a}return e}function De(t,e){var o=new RegExp("^(?:(\\d{4}|[+-]\\d{"+(4+e)+"})|(\\d{2}|[+-]\\d{"+(2+e)+"})$)"),a=t.match(o);if(!a)return{year:NaN,restDateString:""};var n=a[1]?parseInt(a[1]):null,i=a[2]?parseInt(a[2]):null;return{year:i===null?n:i*100,restDateString:t.slice((a[1]||a[2]).length)}}function pe(t,e){if(e===null)return new Date(NaN);var o=t.match(de);if(!o)return new Date(NaN);var a=!!o[4],n=_(o[1]),i=_(o[2])-1,u=_(o[3]),l=_(o[4]),m=_(o[5])-1;if(a)return Se(e,l,m)?we(e,l,m):new Date(NaN);var d=new Date(0);return!Ne(e,i,u)||!Me(e,n)?new Date(NaN):(d.setUTCFullYear(e,i,Math.max(n,u)),d)}function _(t){return t?parseInt(t):1}function he(t){var e=t.match(ve);if(!e)return NaN;var o=I(e[1]),a=I(e[2]),n=I(e[3]);return xe(o,a,n)?o*A+a*G+n*1e3:NaN}function I(t){return t&&parseFloat(t.replace(",","."))||0}function Te(t){if(t==="Z")return 0;var e=t.match(fe);if(!e)return 0;var o=e[1]==="+"?-1:1,a=parseInt(e[2]),n=e[3]&&parseInt(e[3])||0;return be(a,n)?o*(a*A+n*G):NaN}function we(t,e,o){var a=new Date(0);a.setUTCFullYear(t,0,4);var n=a.getUTCDay()||7,i=(e-1)*7+o+1-n;return a.setUTCDate(a.getUTCDate()+i),a}var _e=[31,null,31,30,31,30,31,31,30,31,30,31];function H(t){return t%400===0||t%4===0&&t%100!==0}function Ne(t,e,o){return e>=0&&e<=11&&o>=1&&o<=(_e[e]||(H(t)?29:28))}function Me(t,e){return e>=1&&e<=(H(t)?366:365)}function Se(t,e,o){return e>=1&&e<=53&&o>=0&&o<=6}function xe(t,e,o){return t===24?e===0&&o===0:o>=0&&o<60&&e>=0&&e<60&&t>=0&&t<25}function be(t,e){return e>=0&&e<=59}function Ce(t){if(N(1,arguments),typeof t=="string"){var e=t.match(/(\d{4})-(\d{2})-(\d{2})[T ](\d{2}):(\d{2}):(\d{2})(?:\.(\d{0,7}))?(?:Z|(.)(\d{2}):?(\d{2})?)?/);return e?new Date(Date.UTC(+e[1],+e[2]-1,+e[3],+e[4]-(+e[9]||0)*(e[8]=="-"?-1:1),+e[5]-(+e[10]||0)*(e[8]=="-"?-1:1),+e[6],+((e[7]||"0")+"00").substring(0,3))):new Date(NaN)}return w(t)}const Ue=/^([+-]?\d{4}(?!\d{2}\b))((-?)((0[1-9]|1[0-2])(\3([12]\d|0[1-9]|3[01]))?|W([0-4]\d|5[0-2])(-?[1-7])?|(00[1-9]|0[1-9]\d|[12]\d{2}|3([0-5]\d|6[1-6])))([T\s]((([01]\d|2[0-3])((:?)[0-5]\d)?|24:?00)([.,]\d+(?!:))?)?(\17[0-5]\d([.,]\d+)?)?([zZ]|([+-])([01]\d|2[0-3]):?([0-5]\d)?)?)?)?$/,Ie=/^([0-9]{4})-([0-9]{2})-([0-9]{2}) ([0-9]{2}):([0-9]{2}):([0-9]{2})(\.[0-9]{1,6})?(([+-])([0-9]{2}):([0-9]{2})|Z)?$/,Ee=/^([0-9]{4})-([0-9]{2})-([0-9]{2})T([0-9]{2}):([0-9]{2}):([0-9]{2})(\.[0-9]{1,9})?(([+-])([0-9]{2}):([0-9]{2})|Z)$/,Re=/^[A-Za-z]{3},\s[0-9]{2}\s[A-Za-z]{3}\s[0-9]{4}\s[0-9]{2}:[0-9]{2}:[0-9]{2}\sGMT$/,ye=/^-?\d+(\.\d+)?$/;function p(t){return e=>!Z.isNil(e)&&t.test(e)}const Fe=p(Ue),Oe=p(Ie),$e=p(Ee),ze=p(Re),Ze=p(/^[0-9]{1,10}$/),Ye=p(/^[0-9]{1,13}$/),Ae=p(/^[0-9a-fA-F]{24}$/),Ge=p(ye);function He(t){if(Z.isNil(t))return!1;try{return new Date(t).toUTCString()===t}catch{return!1}}function We(t){return String(t.getTime()/(1e3*60*60*24)+25569)}function Xe(t){return new Date((Number(t)-25569)*86400*1e3)}const Je={flex:"","gap-2":""},Be=V({__name:"date-time-converter",setup(t){const e=R(""),o=r=>new Date(r),a=[{name:"JS locale date string",fromDate:r=>r.toString(),toDate:o,formatMatcher:()=>!1},{name:"ISO 8601",fromDate:ne,toDate:z,formatMatcher:r=>Fe(r)},{name:"ISO 9075",fromDate:oe,toDate:z,formatMatcher:r=>Oe(r)},{name:"RFC 3339",fromDate:ie,toDate:o,formatMatcher:r=>$e(r)},{name:"RFC 7231",fromDate:ue,toDate:o,formatMatcher:r=>ze(r)},{name:"Unix timestamp",fromDate:r=>String(me(r)),toDate:r=>le(+r),formatMatcher:r=>Ze(r)},{name:"Timestamp",fromDate:r=>String(Y(r)),toDate:r=>Ce(+r),formatMatcher:r=>Ye(r)},{name:"UTC format",fromDate:r=>r.toUTCString(),toDate:o,formatMatcher:r=>He(r)},{name:"Mongo ObjectID",fromDate:r=>`${Math.floor(r.getTime()/1e3).toString(16)}0000000000000000`,toDate:r=>new Date(Number.parseInt(r.substring(0,8),16)*1e3),formatMatcher:r=>Ae(r)},{name:"Excel date/time",fromDate:r=>We(r),toDate:Xe,formatMatcher:Ge}],n=R(6),i=q(),u=L(()=>{if(!e.value)return i.value;const{toDate:r}=a[n.value];try{return r(e.value)}catch{return}});function l(r){const s=a.findIndex(({formatMatcher:D})=>D(r));s!==-1&&(n.value=s)}const m=B({source:e,watch:[n],rules:[{message:"This date is invalid for this format",validator:r=>$(()=>{if(r==="")return!0;const s=a[n.value].toDate(r);return ae(s)&&b(s)},!1)}]});function d(r,s){return!s||!m.isValid?"":$(()=>r(s),"")}return(r,s)=>{const D=ee,h=te,f=re,g=k;return y(),F("div",null,[P("div",Je,[M(D,{value:S(e),"onUpdate:value":[s[0]||(s[0]=v=>O(e)?e.value=v:null),l],autofocus:"",placeholder:"Put your date string here...",clearable:"","test-id":"date-time-converter-input",validation:S(m)},null,8,["value","validation"]),M(h,{value:S(n),"onUpdate:value":s[1]||(s[1]=v=>O(n)?n.value=v:null),style:{flex:"0 0 170px"},options:a.map(({name:v},T)=>({label:v,value:T})),"data-test-id":"date-time-converter-format-select"},null,8,["value","options"])]),M(f),(y(),F(K,null,Q(a,({name:v,fromDate:T})=>M(g,{key:v,label:v,"label-width":"150px","label-position":"left","label-align":"right",value:d(T,S(u)),placeholder:"Invalid date...","test-id":v,readonly:"","mt-2":""},null,8,["label","value","test-id"])),64))])}}});export{Be as default};
