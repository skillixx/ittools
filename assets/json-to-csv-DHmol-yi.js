import{_ as i}from"./FormatTransformer.vue_vue_type_script_setup_true_lang-ha0_YGO-.js";import{l as a}from"./index-A1G9Z81i.js";import{w as c}from"./defaults-wMf-rINs.js";import{d as u,o as p,c as l}from"./index-RUWH5Roo.js";import"./TextareaCopyable-h-rtNdHc.js";import"./Copy-zRvnpAjd.js";import"./Scrollbar-GGzTmcH4.js";function f({array:o}){const r=new Set;return o.forEach(n=>Object.keys(n).forEach(e=>r.add(e))),Array.from(r)}function m(o){if(o===null)return"null";if(o===void 0)return"";const r=String(o).replace(/\n/g,"\\n").replace(/\r/g,"\\r").replace(/"/g,'\\"');return r.includes(",")?`"${r}"`:r}function d({array:o}){const r=f({array:o}),n=o.map(e=>r.map(t=>m(e[t])));return[r.join(","),...n].join(`
`)}const y=u({__name:"json-to-csv",setup(o){function r(e){return c(()=>e===""?"":d({array:a.parse(e)}),"")}const n=[{validator:e=>e===""||a.parse(e),message:"Provided JSON is not valid."}];return(e,t)=>{const s=i;return p(),l(s,{"input-label":"Your raw JSON","input-placeholder":"Paste your raw JSON here...","output-label":"CSV version of your JSON","input-validation-rules":n,transformer:r})}}});export{y as default};
